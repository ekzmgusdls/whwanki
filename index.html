<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>p5js collide</title>
        <script src="p5/p5.js"></script>
        <script src="box.js"></script>
        <script src="boundary.js"></script>
        <script src="pathseg-master/pathseg.js"></script>
        <script
            src="https://code.jquery.com/jquery-3.6.0.js"
            integrity="sha256-H+K7U5CnXl1h5ywQfKtSj8PCmoN9aaq30gDh27Xc0jk="
            crossorigin="anonymous"
        ></script>
        <script src="https://codepen.io/garethfoote/pen/jrQqVW.js"></script>
        <script src="matter-js-master/build/matter.js"></script>
        <script src="poly-decomp.js-master/build/decomp.js"></script>
    </head>
    <body>
        <svg
            id="svg"
            viewBox="0 0 89 151.1"
            style="position: absolute; opacity: 0; position: fixed; z-index: -1"
        >
            <style type="text/css"></style>
            <path
                class="st0"
                d="M210.8,194.2c0,22.6-1.2,43.8-4,62.9c-2.8,19.2-7.3,36.3-13.8,50.8s-15.1,26.3-26.2,34.8
c-11.1,8.5-24.7,13.7-41.3,14.8c-21.3,1.5-39.8-2.6-55.5-11c-15.8-8.4-28.8-21.2-39.2-36.9s-18.1-34.5-23.2-55S0,212,0,189.5
c0-30.2,3.1-57.1,8.6-80.6S22,65.6,31.7,49.4S53,20.9,65.6,12.6S92.2,0,106.6,0s28.1,3.8,40.6,11.7c12.5,7.8,23.7,19.7,33.1,35.7
s17.1,36.1,22.3,60.5S210.8,161,210.8,194.2z"
            />

            <path
                class="cls-1"
                d="M868.52,296.4c0,63.25-42.94,139.58-119.89,139.58-93,0-109.15-76.33-109.15-139.58S685.42,153,748.63,155C857.79,158.62,868.52,233.15,868.52,296.4Z"
                transform="translate(-639.48 -155)"
            />
            <path
                class="cls-1"
                d="M677,267c27.66,91.49-94,90.23-209.95,90.23s-210,0-218.64-90.23c-7.13-74.17,102.68-90.23,218.64-90.23S654.47,192.39,677,267Z"
                transform="translate(-248.1 -176.77)"
            />
        </svg>
    </body>
    <script>
        let engine = Matter.Engine.create();
        let render = Matter.Render.create({
            element: document.body,
            engine: engine,
            options: {
                wireframes: false,
                background: '#f8f9fa',
            },
        });
        Matter.Render.run(render);

        let runner = Matter.Runner.create();
        Matter.Runner.run(runner, engine);

        let ball = Matter.Bodies.circle(400, 100, 50, {
            restitution: 1,
        });
        Matter.World.add(engine.world, ball);

        let bottom = Matter.Bodies.rectangle(280, 600, 560, 20, {
            isStatic: true,
            render: {
                fillStyle: '#868e96',
            },
        });

        Matter.World.add(engine.world, bottom);

        let mouseConstraint = Matter.MouseConstraint.create(engine, {
            mouse: Matter.Mouse.create(render.canvas),
        });
        Matter.World.add(engine.world, mouseConstraint);

        let vertexSets = [];
        console.log($('#svg'));
        $('#svg')
            .find('.cls-1')
            .each(function (i, path) {
                console.log(path);
                // vertexSets.push(Svg.pathToVertices(path, 100));
                var v = Matter.Bodies.fromVertices(
                    100 + i * 800,
                    200,
                    Matter.Svg.pathToVertices(path, 10),
                    {
                        render: {
                            fillStyle: 'red',
                        },
                        restitution: 1,
                    }
                );
                vertexSets.push(v);
            });
        let world = Matter.World.create(render.canvas);
        Matter.World.add(world, vertexSets);
    </script>
</html>
